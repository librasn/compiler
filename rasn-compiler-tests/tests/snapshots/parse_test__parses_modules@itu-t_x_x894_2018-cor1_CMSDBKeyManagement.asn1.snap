---
source: rasn-compiler-tests/tests/parse_test.rs
input_file: rasn-compiler-tests/tests/modules/itu-t_x_x894_2018-cor1_CMSDBKeyManagement.asn1
---
Warnings:
LinkerError in ASN grammar: No syntax definition for information object class found!
LinkerError in ASN grammar: Failed to resolve supertype AlgorithmIdentifier of parameterized implementation.
LinkerError in ASN grammar: Failed to resolve supertype Attribute of parameterized implementation.
LinkerError in ASN grammar: No syntax definition for information object class found!


Generated:
#[allow(
    non_camel_case_types,
    non_snake_case,
    non_upper_case_globals,
    unused,
    clippy::too_many_arguments
)]
pub mod cmsdbkey_management {
    extern crate alloc;
    use super::algorithm_information_2009::*;
    use super::cmsobject_identifiers::{
        ID_DBEKM_RECIP_INFO, ID_SIMPLE_STRING, ID_UNIQUE_IDENTIFIER,
    };
    use super::cryptographic_message_syntax_2010::{Attribute, MessageAuthenticationCodeAlgorithm};
    use super::pkix_common_types_2009::*;
    use core::borrow::Borrow;
    use rasn::prelude::*;
    use std::sync::LazyLock;
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(choice, automatic_tags)]
    pub enum DBEKMRecipientInfo {
        keyManager(MasterKeyEncryptedHMACkey),
        server(DatabaseServerToKeyManager),
    }
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(automatic_tags)]
    pub struct DatabaseServerToKeyManager {
        #[rasn(identifier = "encryptedKey")]
        pub encrypted_key: MasterKeyEncryptedHMACkey,
        #[rasn(identifier = "uniqueID")]
        pub unique_id: Option<UniqueIdentifier>,
    }
    impl DatabaseServerToKeyManager {
        pub fn new(
            encrypted_key: MasterKeyEncryptedHMACkey,
            unique_id: Option<UniqueIdentifier>,
        ) -> Self {
            Self {
                encrypted_key,
                unique_id,
            }
        }
    }
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(delegate, size("1.."))]
    pub struct DbEKMAttributeSet(pub SequenceOf<Attribute>);
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(delegate)]
    pub struct MasterKeyAlgorithmIdentifier(pub AlgorithmIdentifier);
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(automatic_tags)]
    pub struct MasterKeyEncryptedHMACkey {
        #[rasn(identifier = "masterKeyAID")]
        pub master_key_aid: Option<MasterKeyAlgorithmIdentifier>,
        #[rasn(identifier = "hmacKeyAID")]
        pub hmac_key_aid: Option<MessageAuthenticationCodeAlgorithm>,
        #[rasn(size("1.."), identifier = "encryptedKey")]
        pub encrypted_key: OctetString,
    }
    impl MasterKeyEncryptedHMACkey {
        pub fn new(
            master_key_aid: Option<MasterKeyAlgorithmIdentifier>,
            hmac_key_aid: Option<MessageAuthenticationCodeAlgorithm>,
            encrypted_key: OctetString,
        ) -> Self {
            Self {
                master_key_aid,
                hmac_key_aid,
                encrypted_key,
            }
        }
    }
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(delegate, size("1.."))]
    pub struct SimpleString(pub Utf8String);
    #[derive(AsnType, Debug, Clone, Decode, Encode, PartialEq, Eq, Hash)]
    #[rasn(automatic_tags)]
    pub struct UniqueIdentifier {
        pub name: ObjectIdentifier,
        #[rasn(identifier = "type")]
        pub r_type: Option<Any>,
    }
    impl UniqueIdentifier {
        pub fn new(name: ObjectIdentifier, r_type: Option<Any>) -> Self {
            Self { name, r_type }
        }
    }
}
